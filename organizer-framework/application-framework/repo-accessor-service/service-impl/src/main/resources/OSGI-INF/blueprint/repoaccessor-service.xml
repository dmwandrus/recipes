<?xml version="1.0" encoding="UTF-8"?>
<blueprint  default-activation="eager"
            xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xmlns:jpa="http://aries.apache.org/xmlns/jpa/v1.0.0"
            xmlns:tx="http://aries.apache.org/xmlns/transactions/v1.0.0">


    <bean 
        id="defaultRepoAccessorService"
        class="mil.navair.iframework.appframework.repoaccessor.impl.DefaultRepoAccessorService">
            <jpa:context unitname="app_meta_data_pu" property="entityManager"/>
            <tx:transaction method="*" value="Required"/>   
            <property name="fileAccessor" ref="transactedFileAccessor"/>
    </bean>
    <bean id="transactedFileAccessor" class="mil.navair.iframework.appframework.repoaccessor.impl.TransactedFileAccessor"/>

    <service
        id="exportedDefaultRepoAccessorService"
        interface="mil.navair.iframework.appframework.repoaccessor.api.RepoAccessorService"
        ref="defaultRepoAccessorService">
    </service>

</blueprint>
